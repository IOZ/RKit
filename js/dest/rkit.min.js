/*! rkit - v1.0.0 - 2014-09-26 */
var RKit={version:"1.0.0"};!function($){"use strict";window.RKit=RKit||{},RKit.getViewPortWidth=function(){var viewPortWidth;return viewPortWidth="undefined"!=typeof window.innerWidth?window.innerWidth:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.getElementsByTagName("body")[0].clientWidth},RKit.isMobile=function(){var re=/(Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone)/i;return re.test(window.navigator.userAgent)},RKit.isRetina=function(){return window.devicePixelRatio?window.devicePixelRatio>=2:!1},RKit.imageLoader=function(container,fn){var target,n,c,images,image;"object"==typeof container?target=container:"string"==typeof container&&(target=$(container)),images=target.find("img"),n=images.length,c=0,images.each(function(){image=$(this),image.one("load error",function(){c++,c===n&&"function"==typeof fn&&fn.call(this)})})}}(jQuery),RKit.Yoga=function($){"use strict";var api,config;return config={dataPush:"push"},api={},api.blocksStorage=[],api.getBlocks=function(){var $block,$pushTo,pushDir,pushBreakPoint,$startBlockPos,startDir;$("[data-"+config.dataPush+"]").each(function(){$block=$(this),$pushTo=$($block.data(config.dataPush)),pushDir=$block.data("dir"),pushBreakPoint=$block.data("bp"),$block.prev().length?($startBlockPos=$block.prev(),startDir="after"):$block.next().length?($startBlockPos=$block.next(),startDir="before"):($startBlockPos=$block.parent(),startDir="append"),api.blocksStorage.push({$block:$block,$pushTo:$pushTo,pushDir:pushDir,pushBreakPoint:pushBreakPoint,$startBlockPos:$startBlockPos,startDir:startDir,isInsert:!1})})},api.move=function(media){var i,len,$pushTo,$block,isInsert,breakPoint,dir,$startBlockPos,startDir;for(len=api.blocksStorage.length,i=0;len>i;i++)if($pushTo=api.blocksStorage[i].$pushTo,$block=api.blocksStorage[i].$block,breakPoint=api.blocksStorage[i].pushBreakPoint,dir=api.blocksStorage[i].pushDir,$startBlockPos=api.blocksStorage[i].$startBlockPos,startDir=api.blocksStorage[i].startDir,isInsert=api.blocksStorage[i].isInsert,breakPoint!=media||isInsert){if(breakPoint==media&&isInsert)switch(dir){case"before":$block.insertBefore($pushTo);break;case"after":$block.insertAfter($pushTo);break;case"append":$block.appendTo($pushTo);break;case"prepend":$block.prependTo($pushTo)}else if(breakPoint!==media&&isInsert)switch(startDir){case"before":$block.insertBefore($startBlockPos);break;case"after":$block.insertAfter($startBlockPos);break;case"append":$block.appendTo($startBlockPos);break;case"prepend":$block.prependTo($startBlockPos)}}else{switch(dir){case"before":$block.insertBefore($pushTo);break;case"after":$block.insertAfter($pushTo);break;case"append":$block.appendTo($pushTo);break;case"prepend":$block.prependTo($pushTo)}api.blocksStorage[i].isInsert=!0}},api.init=function(){api.getBlocks()},api}(jQuery),RKit.Y=RKit.Yoga,RKit.Media=function($){"use strict";var api,config,Win,WinW;return config={breakpoints:[["mediaM",768],["mediaT",[768,1024]],["mediaD",1024]]},api={},api.resetMedia=function(){for(var i=0,mediaLength=config.breakpoints.length;mediaLength>i;i++)window[config.breakpoints[i][0]]=!1},api.setMedia=function(media){api.resetMedia(),window[media]=!0,Win.trigger(media),"object"==typeof RKit.Y&&RKit.Y.move(media)},api.getMedia=function(){WinW=RKit.getViewPortWidth(),!window[config.breakpoints[0][0]]&&WinW<=config.breakpoints[0][1]-1&&api.setMedia(config.breakpoints[0][0]),!window[config.breakpoints[1][0]]&&WinW>=config.breakpoints[1][1]&&WinW<=config.breakpoints[1][2]&&api.setMedia(config.breakpoints[1][0]),!window[config.breakpoints[2][0]]&&WinW>config.breakpoints[2][1]&&api.setMedia(config.breakpoints[2][0])},api.init=function(conf){"object"==typeof conf&&(config=$.extend({},config,conf)),Win=$(window),setTimeout(api.getMedia,0),Win.resize(api.getMedia)},api}(jQuery),RKit.init=function(conf){"object"==typeof conf.media&&RKit.Media.init(conf.media),conf.yoga&&RKit.Y.init()};